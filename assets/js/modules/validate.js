export const Validate=(()=>{function e(e){return(e||"").replace(/\D/g,"")}function t(e){return/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(e||"")}function n(t){const n=e(t);return n.replace(/^(\d{3})(\d{3})(\d{3})(\d{0,2}).*/,((e,t,n,a,r)=>r?`${t}.${n}.${a}-${r}`:`${t}.${n}.${a}`))}function a(t){const n=e(t);return n.replace(/^(\d{2})(\d{5})(\d{0,4}).*/,((e,t,n,a)=>a?`(${t}) ${n}-${a}`:`(${t}) ${n}`))}function r(t){const n=e(t);return n.replace(/^(\d{5})(\d{0,3}).*/,((e,t,n)=>n?`${t}-${n}`:t))}function o(t){const n=e(t);if(!n||11!==n.length||/^(\d)\1+$/.test(n))return!1;let a=0;for(let e=0;e<9;e++)a+=parseInt(n[e])*(10-e);let r=10*a%11;10===r&&(r=0);if(r!==parseInt(n[9]))return!1;a=0;for(let e=0;e<10;e++)a+=parseInt(n[e])*(11-e);let o=10*a%11;return 10===o&&(o=0),o===parseInt(n[10])}function s(e){return/^\(\d{2}\) \d{5}-\d{4}$/.test(e||"")}function i(e){return/^\d{5}-\d{3}$/.test(e||"")}function d(e){if(!e)return!1;const t=new Date(e);if(isNaN(t))return!1;const n=new Date;let a=n.getFullYear()-t.getFullYear();const r=n.getMonth()-t.getMonth();return(r<0||0===r&&n.getDate()<t.getDate())&&a--,a>=16}const l=new Set(["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"]);return{bindForm:function(c){const u=document.querySelector("#form-alert"),m={nome:c.querySelector("#nome"),email:c.querySelector("#email"),cpf:c.querySelector("#cpf"),telefone:c.querySelector("#telefone"),nascimento:c.querySelector("#nascimento"),cep:c.querySelector("#cep"),endereco:c.querySelector("#endereco"),cidade:c.querySelector("#cidade"),estado:c.querySelector("#estado"),termos:c.querySelector("#termos")};m.cpf&&m.cpf.addEventListener("input",(e=>e.target.value=n(e.target.value))),m.telefone&&m.telefone.addEventListener("input",(e=>e.target.value=a(e.target.value))),m.cep&&m.cep.addEventListener("input",(e=>e.target.value=r(e.target.value)));function p(e,t){const n=c.querySelector(`[data-error-for="${e}"]`),a=m[e];n&&(n.textContent=t||""),a&&(a.classList.toggle("is-invalid",!!t),a.classList.toggle("is-valid",!t&&""!==a.value.trim()))}function v(){const n=[];m.nome.value.trim()?p("nome",""):(n.push("Informe o nome completo."),p("nome","Campo obrigatório.")),t(m.email.value)?p("email",""):(n.push("E-mail inválido."),p("email","Formato inválido (ex.: nome@dominio.com).")),o(m.cpf.value)?p("cpf",""):(n.push("CPF inválido."),p("cpf","CPF não passou na verificação.")),s(m.telefone.value)?p("telefone",""):(n.push("Telefone inválido."),p("telefone","Use (00) 00000-0000.")),d(m.nascimento.value)?p("nascimento",""):(n.push("Idade mínima: 16 anos."),p("nascimento","Idade mínima: 16 anos.")),i(m.cep.value)?p("cep",""):(n.push("CEP inválido."),p("cep","Use 00000-000.")),m.endereco.value.trim()?p("endereco",""):(n.push("Endereço é obrigatório."),p("endereco","Campo obrigatório.")),m.cidade.value.trim()?p("cidade",""):(n.push("Cidade é obrigatória."),p("cidade","Campo obrigatório.")),l.has(m.estado.value)?p("estado",""):(n.push("Selecione um estado válido."),p("estado","Selecione um UF.")),m.termos.checked?p("termos",""):(n.push("É necessário aceitar os termos."),p("termos","Você deve aceitar os termos.")),u&&(n.length?(u.style.display="block",u.className="alert alert-danger mt-2",u.innerHTML="<strong>Corrija os seguintes pontos:</strong><ul><li>"+n.join("</li><li>")+"</li></ul>"):(u.style.display="block",u.className="alert alert-success mt-2",u.textContent="Cadastro válido! (simulação de envio)"));return 0===n.length}return c.addEventListener("submit",(e=>{e.preventDefault(),v()})),c.addEventListener("input",(e=>{clearTimeout(c._t),c._t=setTimeout(v,200)})),{validateAll:v}}})();