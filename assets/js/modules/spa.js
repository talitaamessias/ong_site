export const Router=(()=>{const e=new Map;let t=null;function n(){const n=window.location.hash||"#/";const[s]=n.split("?");const o=e.get(s)||e.get("#/");o&&o().then?o().then((e=>{t&&(t.innerHTML=e),window.scrollTo({top:0,behavior:"instant"}),window.dispatchEvent(new CustomEvent("page:rendered",{detail:{path:s}}))})):t&&(t.innerHTML=o||"",window.scrollTo({top:0,behavior:"instant"}),window.dispatchEvent(new CustomEvent("page:rendered",{detail:{path:s}})))}return{mount:e=>{t=e},add:(t,n)=>{e.set(t,n)},start:()=>{window.addEventListener("hashchange",n),document.addEventListener("click",(e=>{const t=e.target.closest("a[data-link]");t&&(e.preventDefault(),window.location.hash=t.getAttribute("href"))})),n()}}})();